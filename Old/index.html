<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>EzCode</title>
      <link rel="icon" href="images/ezCode.png" type="image/x-icon">
      <link rel="shortcut icon" href="images/ezCode.png" type="image/x-icon">
      <meta name="keywords" content="Ezcode, jbrosdevelopment, Home, News">
      <meta name="description" content="Ezcode by JBros Development">
      <meta name="author" content="Joseph H">
      <!-- bootstrap css -->
      <link rel="stylesheet" href="css/bootstrap.min.css">
      <!-- style css -->
      <link rel="stylesheet" href="css/style.css">
      <!-- responsive-->
      <link rel="stylesheet" href="css/responsive.css">
      <!-- awesome fontfamily -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
   </head>
   <!-- body -->
   <body class="main-layout">
      <!-- header -->
      <header>
         <div class="header">
            <div class="container-fluid">
               <div class="row d_flex">
                  <div class=" col-md-2 col-sm-3 col logo_section">
                     <div class="full">
                        <div class="center-desk">
                           <div class="logo">
                              <a href="index.html"><img src="images/logo.png"></a>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-md-8 col-sm-9">
                     <nav class="navigation navbar navbar-expand-md navbar-dark ">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarsExample04">
                           <ul class="navbar-nav mr-auto">
                              <li class="nav-item">
                                 <a class="nav-link" href="Docs.html">Docs</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="Tutorials.html">Tutorials</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="Forum.html">Forum</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="Programs.html">Programs</a>
                              </li>
                           </ul>
                        </div>
                     </nav>
                  </div>
                  <div class="col-md-2 d_none">
                     <ul class="email text_align_right">
                        <li> <a id="login" href="login.html"> Login </a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
         <br>
         <br>
      </header>
      <!-- end header --><!-- News -->
      <!-- News -->
      <style>
         .main-doc {
            background-position: center;
            background-repeat: no-repeat;
            padding: 90px 0;
         }

         .main-doc .titlepage::before {
            border: #fff solid 5px;
         }

         .main-doc .titlepage {
            padding-bottom: 0;
            margin-bottom: 0px;
         }

         .main-doc .titlepage h2 {
            color: #fff;
         }

         .main-doc .titlepage p {
            line-height: 28px;
            padding-top: 20px;
            color: #fff;
            font-size: 17px;
         }
      </style>
      <div class="main-doc">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <style>
                     .news-main {
                        text-align: center;
                     }

                     .news-main h1 {
                        font-size: xx-large;
                        font-weight: bolder;
                        color: rgb(59, 59, 59);
                     }
                     .news-item {
                        width: 80%;
                        margin: 0 auto;
                        padding: 20px;
                        margin-bottom: 20px;
                        background-color: #fff;
                        border-radius: 5px;
                        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
                     }

                     .news-item h2 {
                        font-size: large;
                        font-weight: bolder;
                        color: rgb(59, 59, 59);
                     }

                     .news-item p {
                        font-size: medium;
                        color: rgb(59, 59, 59);
                     }
                     
                     .news-container {
                        overflow-y: auto;
                     }

                  </style>
                  <div class="news-main">
                     <h1>NEWS</h1>
                     <div class="news-container" id="news-container">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- End News -->
      <!-- footer -->
      <footer>
         <div class="footer">
            <div class="container">
               <div class="row">
                  <div class="col-md-1">
                  </div>
                  <div class="col-md-3 col-sm-6">
                     <div class="Informa helpful">
                        <h3>Useful Links</h3>
                        <ul>
                           <li><a href="index.html">Home</a></li>
                           <li><a href="Docs.html">Docs</a></li>
                           <li><a href="Tutorials.html">Tutorials</a></li>
                           <li><a href="Forum.html">Forum</a></li>
                           <li><a href="Programs.html">Programs</a></li>
                        </ul>
                     </div>
                  </div>
                  <div class="col-md-3 col-sm-6">
                     <div class="Informa">
                        <h3>EzCode</h3>
                        <ul>
                           <li>JBros Development is
                           </li>
                           <li>the developer of EzCode.
                           </li>
                           <li>EzCode is open source
                           </li>
                           <li>and can be founf on Github.
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="col-md-3 col-sm-6">
                     <div class="Informa conta">
                        <h3>contact Us</h3>
                        <ul>
                           <li> <a href="https://jbros-development.web.app/">JBros Development
                              </a>
                           </li>
                           <li> <a href="mailto:jbrosdevelopment@gmail.com">jbrosdevelopment@gmail.com
                              </a>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="copyright text_align_left">
               <div class="container">
                  <div class="row d_flex">
                     <div class="col-md-6">
                        <p>Â© 2023 All Rights Reserved.  <a href="https://jbros-development.web.app/"> JBros Development</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </footer>
      <!-- end footer -->
   </body>
   <script src="js/jquery.min.js"></script>
   <script src="js/bootstrap.bundle.min.js"></script>
   <script src="js/jquery-3.0.0.min.js"></script>
   <script src="js/custom.js"></script>
   
   <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
   </script>
   <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
   <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
   <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
   <script>
      const firebaseConfig2 = {
         apiKey: "AIzaSyDq6biEKReP5Kn1d2eHFotzjzxByUffPxw",
         authDomain: "jbros-development.firebaseapp.com",
         projectId: "jbros-development",
         storageBucket: "jbros-development.appspot.com",
         messagingSenderId: "307622496025",
         appId: "1:307622496025:web:02849be63df3fffcb3a788"
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig2);
      // Initialize variables
      const auth2 = firebase.auth()
      const database2 = firebase.database()
    
      auth2.onAuthStateChanged(user => {
        if(user){
          //logged in
          LoggedIn(user)
        }
      })
    
      function LoggedIn(user){
        const login = document.getElementById('login')
    
        if (user && user.displayName) {
          login.innerHTML = user.displayName;
          login.href = "logout.html"
        } else {
          login.innerHTML = "User";
        }
      }
      //const firebaseApp = firebase.initializeApp(firebaseConfig, "secondary");
      //app2.delete()

      // Your web app's Firebase configuration
      //const firebaseConfig = {
      //apiKey: "AIzaSyDd7fc3hkRgvxtUcgnqgF30HiC4wDfq2_I",
      //authDomain: "ez-code.firebaseapp.com",
      //projectId: "ez-code",
      //storageBucket: "ez-code.appspot.com",
      //messagingSenderId: "94612429831",
      //appId: "1:94612429831:web:dee4a8647cf6fe839fdea2",
      //measurementId: "G-CXRHWBCS6R"
      //};
      // Initialize Firebase
      //firebase.initializeApp(firebaseConfig);

      // Retrieve news items and display them
      const newsRef = database2.ref("ezcode/News");

      newsRef.once("value")
      .then((snapshot) => {
         const newsItems = snapshot.val();

      // Clear the existing news container
      const newsContainer = document.getElementById("news-container");
      newsContainer.innerHTML = "";

      // Loop through the news items
      for (const key in newsItems) {
         if (newsItems.hasOwnProperty(key)) {
            const newsItem = newsItems[key];
            
            // Access the news item properties
            const title = newsItem.title;
            const content = newsItem.content;
            const link = newsItem.link;
            const linkName = newsItem.linkName;
            const releaseDate = new Date(newsItem.releaseDate);

            // Create a news item element
            const newsItemElement = document.createElement("div");
            newsItemElement.classList.add("news-item");

            // Create the title element
            const titleElement = document.createElement("h2");
            titleElement.textContent = title;

            // Create the content element
            const contentElement = document.createElement("p");
            contentElement.textContent = content;

            // Append the title, content, and date to the news item element
            newsItemElement.appendChild(titleElement);
            newsItemElement.appendChild(contentElement);
            
            // If a link is available, create a link element
            if (link != '') {
            const linkElement = document.createElement("a");
            linkElement.href = link;
            linkElement.textContent = linkName;
            // Append the link to the news item element
            newsItemElement.appendChild(linkElement);
            }
            
            // Create the posted date element
            const dateElement = document.createElement("p");
            dateElement.textContent = `${releaseDate.toLocaleDateString()}`;
            newsItemElement.appendChild(dateElement);

            // Append the news item element to the news container
            newsContainer.appendChild(newsItemElement);
         }
      }
      }).catch((error) => {
         console.log("Error fetching news items:", error);
      });
   </script>
</html>